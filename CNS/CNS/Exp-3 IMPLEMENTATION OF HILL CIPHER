#include <stdio.h>
#include <string.h>

int main() {
    int key[3][3] = {{6,24,1},{13,16,10},{20,17,15}};
    int inv[3][3] = {{8,5,10},{21,8,21},{21,12,8}};
    int i, j, k, temp;
    int plain[3], cipher[3], decrypt[3];
    char msg[10];

    printf("Enter plaintext (3 letters): ");
    scanf("%s", msg);

    for (i = 0; i < 3; i++) plain[i] = msg[i] - 'A';

    for (i = 0; i < 3; i++) {
        temp = 0;
        for (j = 0; j < 3; j++) temp += key[i][j] * plain[j];
        cipher[i] = temp % 26;
    }

    printf("Encrypted Text: ");
    for (i = 0; i < 3; i++) printf("%c", cipher[i] + 'A');

    for (i = 0; i < 3; i++) {
        temp = 0;
        for (j = 0; j < 3; j++) temp += inv[i][j] * cipher[j];
        decrypt[i] = temp % 26;
    }

    printf("\nDecrypted Text: ");
    for (i = 0; i < 3; i++) printf("%c", decrypt[i] + 'A');
    printf("\n");
    return 0;
}
